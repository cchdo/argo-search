(this.webpackJsonpargosearch=this.webpackJsonpargosearch||[]).push([[0],{54:function(e,a,t){e.exports=t(70)},59:function(e,a,t){},70:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(25),o=t.n(l),c=(t(59),t(33)),i=t(35),s=t(40),u=t(42),d=t(39),m=t(41),f=(t(60),t(36)),g=t(28),p=t(15),h=t(53),E=t(37),b=t(5),_=t.n(b),v=t(46),y=t.n(v),w=t(47),O=t.n(w),j=t(48),k=t.n(j);function I(){var e=Object(i.a)(["\n  query GeoProfiles($geo: geography!) {\n    argo_profiles(order_by: {date: desc}, where: {_and: {geography: {_st_d_within: {from: $geo, distance:10000}}, date: {_is_null: false}}}) {\n      date\n      float_id\n      geography\n      file\n    }\n  }\n"]);return I=function(){return e},e}function P(){var e=Object(i.a)(["\n        query LatestProfiles($number: Int!){\n          argo_profiles(limit: $number, order_by: {date: desc}, where: { _and: {geography: {_is_null: false}, date: {_is_null: false}}}) {\n            date\n            float_id\n            geography\n            file\n          }\n        }\n"]);return P=function(){return e},e}delete _.a.Icon.Default.prototype._getIconUrl,_.a.Icon.Default.mergeOptions({iconRetinaUrl:O.a,iconUrl:y.a,shadowUrl:k.a});var S=new g.a({uri:"https://cchdo.ucsd.edu/v1/graphql"}),L=(Object(g.b)(P()),Object(g.b)(I())),U=function(e){var a=e.loading,t=e.error,n=e.data;return a?r.a.createElement("p",null,"Loading..."):t?r.a.createElement("p",null,"Error ..."):r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,n.argo_profiles.length," Profiles"),r.a.createElement("div",null,n.argo_profiles.map((function(e){var a=e.file,t=e.float_id,n=e.date;e.geography;return r.a.createElement("div",{key:a},r.a.createElement("p",null,t,": ",n,r.a.createElement("br",null),r.a.createElement("small",null,a)))}))))},$=function(e){var a=e.loading,t=e.error,n=e.data;return a?r.a.createElement("p",null,"Loading..."):t?r.a.createElement("p",null,"Error ..."):n.argo_profiles.map((function(e){var a=e.file,t=e.float_id,n=e.geography;return r.a.createElement(d.a,{key:a,radius:4,center:[n.coordinates[1],n.coordinates[0]]},r.a.createElement(m.a,null,r.a.createElement("h3",null,"Argo Float: ",t),r.a.createElement("a",{href:"ftp://ftp.ifremer.fr/ifremer/argo/dac/"+a},"Download Profile")))}))};var q=function(){var e,a=Object(n.useState)(!1),t=Object(c.a)(a,2),l=t[0],o=t[1],i=Object(n.useState)("firstten"),d=Object(c.a)(i,2),m=d[0],g=d[1],b=Object(n.useState)(new URLSearchParams(window.location.search)),_=Object(c.a)(b,2),v=_[0],y=(_[1],v.get("line"));try{e=JSON.parse(y)}catch(j){e={}}var w=Object(h.a)(L,{client:S,variables:{geo:e}}),O=w.loading,j=w.error,k=w.data;return r.a.createElement(p.a,{client:S},r.a.createElement("div",null,r.a.createElement(f.a,{id:"sidebar",position:"right",collapsed:l,closeIcon:r.a.createElement(E.a,null),selected:m,onOpen:function(e){g(e),o(!1)},onClose:function(){return o(!0)}},r.a.createElement(f.b,{id:"firstten",header:"Profile List",icon:r.a.createElement(E.b,null)},r.a.createElement("div",null,r.a.createElement(U,{loading:O,error:j,data:k})))),r.a.createElement(s.a,{className:"mapStyle",center:[0,0],zoom:2},r.a.createElement(u.a,{attribute:"",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.a.createElement($,{loading:O,error:j,data:k}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[54,1,2]]]);
//# sourceMappingURL=main.7dc716b7.chunk.js.map